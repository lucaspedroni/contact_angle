{"name":"ContactAangle","tagline":"Routines for calculating contact angles from MD simulations","body":"### Contact Angle Calculations\r\nThis package provides routines for calculating contact angles from MD simulations of surface wetting. An script to calculate the contact angle would look something like:\r\n\r\n```\r\n>>> import contact_angle as co\r\n>>> import matplotlib.pyplot as plt\r\n>>> import mdtraj as md\r\n>>> import numpy as np\r\n\r\n>>> traj = md.load('wetting.xtc', top='wetting.gro')\r\n>>> ca = co.calc_contact_angle(traj.xyz[50:, 29600:], guess_R=1.5, \r\n        guess_z0=2.0, guess_rho_n=1.0, n_fit=55, left_tol=0.1, \r\n        z_range=(9, 13), surface_normal='z', n_bins=100)\r\n>>> co.print_contact_angle_results(ca)\r\n\r\nContact angle fitting results\r\n-----------------------------\r\ncontact angle =  52.6266050581  degrees\r\nR_fit =  6.78317095664\r\nz0_fit =  5.52256848571\r\nrho_n_fit =  79.3187821804\r\nheight =  2.66573944234\r\nright intercept =  12.3057394423\r\nleft intercept =  9.64\r\n\r\n>>> fig, ax = plt.subplots()\r\n>>> ax.plot(ca['z'], ca['nz'], 'ko', label='raw')\r\n>>> ax.plot(ca['z'], ca['nz_extrapolated'], 'k-', label='fit')\r\n>>> fig.savefig('fit.pdf')\r\n```\r\nwhere we skip the first 50 frames and the molecules in the droplet have indices greater than 29600.\r\n\r\nNote that the algorithm fits a parabola to the calculated number density profile, and that the number of points used in the fit can affect the final answer. Therefore, it is advisable to validate your results by\r\n 1. visualizing the system to make sure the final answer is reasonable, and\r\n 1. visualizing the results of the fitting.\r\n`calc_contact_angle()` returns a dictionary containing the information necessary to visualize the fits. The results of fitting to 50 and 10 points (i.e., `n_fit` = 50 and 10, respectively) are shown below. Although seemingly similar, fitting with just 10 points gives a contact angle of 18 degrees, versus the more accurate value of 53 degrees when using 50 points. This can also be seen comparing to a snapshot of the system, shown below. This illustrates the need to validate.\r\n![Results from fitting to 10 vs. 50 points.](./images/fit.jpg)\r\n\r\nCurrently, several assumptions are made for the calculations:\r\n * The vector normal to the surface is parallel to the z-axis\r\n * The droplet is above the surface in the z-direction\r\nThese changes will be implemented as needed - feel free to make changes and submit a pull-request.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}